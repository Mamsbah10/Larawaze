<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>üìä Centre de D√©bogage - LaraWaze Traffic</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                    Roboto, sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                padding: 20px;
            }

            .container {
                max-width: 1000px;
                margin: 0 auto;
            }

            .header {
                background: white;
                border-radius: 10px;
                padding: 30px;
                text-align: center;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                margin-bottom: 30px;
            }

            .header h1 {
                color: #667eea;
                font-size: 2.5em;
                margin-bottom: 10px;
            }

            .header p {
                color: #666;
                font-size: 1.1em;
                margin-bottom: 20px;
            }

            .status {
                display: inline-block;
                background: #4caf50;
                color: white;
                padding: 10px 20px;
                border-radius: 5px;
                font-weight: bold;
            }

            .tools-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
                margin-bottom: 30px;
            }

            .tool-card {
                background: white;
                border-radius: 10px;
                padding: 25px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                transition: transform 0.3s, box-shadow 0.3s;
            }

            .tool-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            }

            .tool-icon {
                font-size: 3em;
                margin-bottom: 15px;
            }

            .tool-card h2 {
                color: #667eea;
                margin-bottom: 10px;
                font-size: 1.3em;
            }

            .tool-card p {
                color: #666;
                margin-bottom: 20px;
                line-height: 1.6;
            }

            .tool-card a {
                display: inline-block;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 10px 20px;
                border-radius: 5px;
                text-decoration: none;
                font-weight: bold;
                transition: all 0.3s;
            }

            .tool-card a:hover {
                transform: scale(1.05);
                box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
            }

            .info-box {
                background: white;
                border-left: 4px solid #667eea;
                border-radius: 5px;
                padding: 20px;
                margin-bottom: 20px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            }

            .info-box h3 {
                color: #667eea;
                margin-bottom: 10px;
            }

            .info-box p {
                color: #333;
                line-height: 1.8;
            }

            .code-block {
                background: #f5f5f5;
                border-left: 4px solid #667eea;
                padding: 15px;
                margin: 10px 0;
                border-radius: 3px;
                font-family: "Courier New", monospace;
                overflow-x: auto;
            }

            .summary {
                background: white;
                border-radius: 10px;
                padding: 25px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                margin-top: 30px;
            }

            .summary h2 {
                color: #667eea;
                margin-bottom: 15px;
            }

            table {
                width: 100%;
                border-collapse: collapse;
            }

            th,
            td {
                border: 1px solid #e0e0e0;
                padding: 12px;
                text-align: left;
            }

            th {
                background: #f5f5f5;
                font-weight: 600;
                color: #333;
            }

            tr:hover {
                background: #f9f9f9;
            }

            .status-ok {
                color: #4caf50;
                font-weight: bold;
            }

            .status-error {
                color: #f44336;
                font-weight: bold;
            }

            footer {
                text-align: center;
                color: white;
                margin-top: 30px;
                padding: 20px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h1>üìä Centre de D√©bogage LaraWaze</h1>
                <p>
                    Outils de diagnostic et de test pour le probl√®me 404 des
                    tuiles traffic
                </p>
                <div class="status">‚úÖ Tous les outils sont disponibles</div>
            </div>

            <div class="info-box">
                <h3>üéØ R√©sum√© du Probl√®me</h3>
                <p>
                    <strong>Probl√®me:</strong> Erreurs 404 lors du chargement
                    des tuiles traffic<br />
                    <strong>Cause:</strong> Les coordonn√©es z=15, x=16023,
                    y=15894 ne correspondent √† aucune tuile TomTom<br />
                    <strong>Solution:</strong> Utiliser des coordonn√©es valides
                    ou convertir vos lat/lon
                </p>
            </div>

            <div class="tools-grid">
                <div class="tool-card">
                    <div class="tool-icon">üîß</div>
                    <h2>Testeur Interactif</h2>
                    <p>
                        Interface compl√®te pour convertir vos coordonn√©es et
                        tester les tuiles traffic en temps r√©el.
                    </p>
                    <a href="/traffic-tile-tester.html">üöÄ Ouvrir le Testeur</a>
                </div>

                <div class="tool-card">
                    <div class="tool-icon">üìã</div>
                    <h2>Documentation</h2>
                    <p>
                        Rapport complet, solutions d√©taill√©es et explications
                        techniques sur le probl√®me.
                    </p>
                    <a
                        href="javascript:alert('Voir les fichiers:\n- DEBUG_REPORT.txt\n- DEBUG_SUMMARY.md\n- SOLUTION_404_TRAFFIC.md')"
                        >üìñ Voir les Docs</a
                    >
                </div>

                <div class="tool-card">
                    <div class="tool-icon">‚öôÔ∏è</div>
                    <h2>Scripts de Test</h2>
                    <p>
                        Scripts PHP pour diagnostiquer et d√©boguer depuis la
                        ligne de commande.
                    </p>
                    <div class="code-block">php final_test.php</div>
                    <a href="javascript:copyToClipboard('php final_test.php')"
                        >üìã Copier Commande</a
                    >
                </div>

                <div class="tool-card">
                    <div class="tool-icon">üìê</div>
                    <h2>Convertisseur JS</h2>
                    <p>
                        Utilitaire JavaScript pour convertir les coordonn√©es
                        lat/lon en z/x/y Web Mercator.
                    </p>
                    <div class="code-block">
                        TileCoordinateConverter.latLonToTile(lat, lon, zoom)
                    </div>
                    <a
                        href="javascript:alert('Fichier: public/js/TileCoordinateConverter.js')"
                        >üì¶ Voir le Code</a
                    >
                </div>

                <div class="tool-card">
                    <div class="tool-icon">üåê</div>
                    <h2>Tester Manuellement</h2>
                    <p>
                        Testez une tuile directement avec curl ou votre
                        navigateur.
                    </p>
                    <div class="code-block">
                        curl
                        http://localhost:8000/api/traffic/tile/15/16408/10729
                    </div>
                    <a
                        href="javascript:copyToClipboard('curl http://localhost:8000/api/traffic/tile/15/16408/10729')"
                        >üìã Copier</a
                    >
                </div>

                <div class="tool-card">
                    <div class="tool-icon">‚úÖ</div>
                    <h2>Coordonn√©es Valides</h2>
                    <p>
                        Exemples de tuiles traffic qui existent et fonctionnent.
                    </p>
                    <div class="code-block">
                        Paris: z=15 x=16408 y=10729 New York: z=15 x=10486
                        y=12310 Tokyo: z=15 x=29127 y=12755
                    </div>
                </div>
            </div>

            <div class="summary">
                <h2>üìä √âtat du Syst√®me</h2>
                <table>
                    <tr>
                        <th>Composant</th>
                        <th>Statut</th>
                        <th>D√©tails</th>
                    </tr>
                    <tr>
                        <td>Route Laravel</td>
                        <td class="status-ok">‚úÖ Fonctionne</td>
                        <td>GET /api/traffic/tile/{z}/{x}/{y}</td>
                    </tr>
                    <tr>
                        <td>Contr√¥leur</td>
                        <td class="status-ok">‚úÖ Correct</td>
                        <td>TrafficController::getTrafficTile()</td>
                    </tr>
                    <tr>
                        <td>Cl√© API TomTom</td>
                        <td class="status-ok">‚úÖ Valide</td>
                        <td>Configur√©e dans .env</td>
                    </tr>
                    <tr>
                        <td>Connexion TomTom</td>
                        <td class="status-ok">‚úÖ R√©pond</td>
                        <td>API fonctionne normalement</td>
                    </tr>
                    <tr>
                        <td>Coordonn√©es test√©es</td>
                        <td class="status-error">‚ùå Invalides</td>
                        <td>z=15, x=16023, y=15894 (404)</td>
                    </tr>
                </table>
            </div>

            <div class="info-box" style="margin-top: 30px">
                <h3>üöÄ Prochaines √âtapes</h3>
                <ol style="margin-left: 20px; line-height: 1.8">
                    <li>
                        <strong>Ouvrez le Testeur Interactif</strong> (premier
                        outil dans la grille)
                    </li>
                    <li>
                        <strong>Entrez vos coordonn√©es</strong>
                        latitude/longitude
                    </li>
                    <li>
                        <strong>Convertissez en z/x/y</strong> pour votre r√©gion
                    </li>
                    <li>
                        <strong>Testez la tuile r√©sultante</strong> pour voir si
                        elle existe
                    </li>
                    <li>
                        <strong>Consultez les logs</strong> si vous avez besoin
                        de plus d'infos:
                        <code>tail -100 storage/logs/laravel.log</code>
                    </li>
                </ol>
            </div>

            <div
                class="info-box"
                style="background: #e3f2fd; border-left-color: #2196f3"
            >
                <h3>üí° Conseil</h3>
                <p>
                    Si vous ne savez pas quelles coordonn√©es utiliser,
                    <strong>commencez par tester Paris</strong> (z=15, x=16408,
                    y=10729). Cette tuile est confirm√©e comme valide et
                    fonctionne correctement. Cela vous permettra de v√©rifier que
                    votre syst√®me est correctement configur√©.
                </p>
            </div>
        </div>

        <footer>
            <p>Centre de D√©bogage LaraWaze ‚Ä¢ Cr√©√© le 8 janvier 2026</p>
            <p>
                Pour plus d'informations, consultez les fichiers de
                documentation dans le r√©pertoire racine
            </p>
        </footer>

        <script>
            function copyToClipboard(text) {
                navigator.clipboard
                    .writeText(text)
                    .then(() => {
                        alert("Copi√© dans le presse-papiers!\n\n" + text);
                    })
                    .catch((err) => {
                        alert("Erreur lors de la copie: " + text);
                    });
            }
        </script>
    </body>
</html>
